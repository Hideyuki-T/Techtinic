<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>お気に入りURL登録</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#AAF0D1">
    <style>
        body { font-family: Arial, sans-serif; }
        form div { margin-bottom: 10px; }
        label { display: inline-block; width: 100px; }
    </style>
</head>
<body>
<h1>お気に入りURL登録</h1>
<form id="favForm">
    <div>
        <label for="category">カテゴリー:</label>
        <input type="text" id="category" name="category" required>
    </div>
    <div>
        <label for="title">タイトル:</label>
        <input type="text" id="title" name="title" required>
    </div>
    <div>
        <label for="url">URL:</label>
        <input type="url" id="url" name="url" required>
    </div>
    <div>
        <label for="tags">タグ:</label>
        <input type="text" id="tags" name="tags" placeholder="カンマ区切りで入力">
    </div>
    <button type="submit">保存</button>
</form>

<script>
    document.getElementById('favForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const data = {
            category: document.getElementById('category').value,
            title: document.getElementById('title').value,
            url: document.getElementById('url').value,
            tags: document.getElementById('tags').value.split(',').map(tag => tag.trim())
        };

        console.log('登録データ:', data);
        // ここでfetchなどを使いサーバへデータ送信する処理を実装できます。
        // 登録後に一覧ページ(index.html)に遷移する例:
        // fetch('/saveFavorite', { ... })
        //   .then(response => response.json())
        //   .then(result => {
        //      window.location.href = '/index.html';
        //   })
        //   .catch(error => console.error('エラー:', error));

        // 今回は簡易な例として、登録後すぐ一覧ページへ遷移します。
        window.location.href = '/index.html';
    });
</script>
</body>
</html>
